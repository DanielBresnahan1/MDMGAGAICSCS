{% extends "base.html" %}
{% block title %}mvm_results title{% endblock %}
{% block page_header %}
    <div class="jumbotron" style="background-color:#ffffff;">
		<!--Plotly graph code starts here-->
		<div id='graphDiv'><!-- Plotly chart will be drawn inside this DIV --></div>
		<div id='image'><!-- This is where the image displays --></div>
		<script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js'></script>
		<script src='/static/javascript/3dHover.js'></script>
		<!--Plotly graph code ends here-->
        <div style="display:block;">
            <h1 class="display-3">{{ win_quote }}</h1>
            <div style="float:right">
                <a class="btn btn-lg btn-primary"
                   style="background-color:#ff3547;border-color:#ff3547;padding-left:2rem;padding-right:2rem"
                   href="restart.html" role="button">
                    Home</a>
            </div>
        </div>
        <div style="display:block;">
            <div>
                <h1 class="display-6">Your Healthy Selection</h1>
                <div style="display:flex;flex-wrap:wrap;">
                    {% for i in user_healthy_pics %}
                        {% if i in true_healthy_pics %}
                            {% set border_type = 'success' %}
                        {% else %}
                            {% set border_type = 'danger' %}
                        {% endif %}
                        <div class="card border-{{border_type}}" style="width:18rem;margin:0.5rem;border-top-width: 3px;padding-bottom: 0px;border-right-width: 3px;border-left-width: 3px;border-bottom-width: 3px;">
                            <img class="card-img-top" src="https://cornimagesbucket.s3.us-east-2.amazonaws.com/images_compressed/{{i}}" alt="corn pic {{i}}">
                        </div>
                    {% endfor %}
                </div>
                <h1 class="display-6">Your Unhealthy Selection</h1>
                <div style="display:flex;flex-wrap:wrap;">
                    {% for i in user_unhealthy_pics %}
                        {% if i in true_unhealthy_pics %}
                            {% set border_type = 'success' %}
                        {% else %}
                            {% set border_type = 'danger' %}
                        {% endif %}
                        <div class="card border-{{border_type}}" style="width:18rem;margin:0.5rem;border-top-width: 3px;padding-bottom: 0px;border-right-width: 3px;border-left-width: 3px;border-bottom-width: 3px;">
                            <img class="card-img-top" src="https://cornimagesbucket.s3.us-east-2.amazonaws.com/images_compressed/{{i}}" alt="corn pic {{i}}">
                        </div>
                    {% endfor %}
                </div>
            </div>
            <div>
                <h1 class="display-6">AI's Healthy Selection</h1>
                <div style="display:flex;flex-wrap:wrap;">
                    {% for i in machine_healthy_pics %}
                        {% if i in true_healthy_pics %}
                            {% set border_type = 'success' %}
                        {% else %}
                            {% set border_type = 'danger' %}
                        {% endif %}
                        <div class="card border-{{border_type}}" style="width:18rem;margin:0.5rem;border-top-width: 3px;padding-bottom: 0px;border-right-width: 3px;border-left-width: 3px;border-bottom-width: 3px;">
                            <img class="card-img-top" src="https://cornimagesbucket.s3.us-east-2.amazonaws.com/images_compressed/{{i}}" alt="corn pic {{i}}">
                        </div>
                    {% endfor %}
                </div>
                <h1 class="display-6">AI's Unhealthy Selection</h1>
                <div style="display:flex;flex-wrap:wrap;">
                    {% for i in machine_unhealthy_pics %}
                        {% if i in true_unhealthy_pics %}
                            {% set border_type = 'success' %}
                        {% else %}
                            {% set border_type = 'danger' %}
                        {% endif %}
                        <div class="card border-{{border_type}}" style="width:18rem;margin:0.5rem;border-top-width: 3px;padding-bottom: 0px;border-right-width: 3px;border-left-width: 3px;border-bottom-width: 3px;">
                            <img class="card-img-top" src="https://cornimagesbucket.s3.us-east-2.amazonaws.com/images_compressed/{{i}}" alt="corn pic {{i}}">
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div style="display:flex;justify-content:center;">
            <h1 class="display-6">Detailed Breakdown</h1>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col">-</th>
                        <th scope="col">True Positives</th>
                        <th scope="col">False Positives</th>
                        <th scope="col">True Negatives</th>
                        <th scope="col">False Negatives</th>
                        <th scope="col">Accuracy</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">You</th>
                        <td>{{ user_tp }}</td>
                        <td>{{ user_fp }}</td>
                        <td>{{ user_tn }}</td>
                        <td>{{ user_fn }}</td>
                        <td>{{ user_accuracy }}</td>
                    </tr>
                    <tr>
                        <th scope="row">AI</th>
                        <td>{{ machine_tp }}</td>
                        <td>{{ machine_fp }}</td>
                        <td>{{ machine_tn }}</td>
                        <td>{{ machine_fn }}</td>
                        <td>{{ machine_accuracy }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
{% endblock page_header %}